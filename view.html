<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>상세 보기</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="my.css" />
</head>
<body>
<div class="container">
  <header class="header">
    <h1>상세 보기</h1>
    <div>
      <a class="btn" href="index.html">목록</a>
      <a class="btn primary" href="add.html">추가</a>
      <button class="btn danger" id="del">삭제</button>
      <a class="btn" id="edit">수정</a>
    </div>
  </header>

  <section class="card">
    <div class="body" id="detail"></div>
  </section>
</div>

<script>
const KEY='vocab_items';
const q=new URLSearchParams(location.search);
const id=Number(q.get('id'));
const load=()=>JSON.parse(localStorage.getItem(KEY)||'[]');
const save=(it)=>localStorage.setItem(KEY,JSON.stringify(it));

function render(){
  const it = load().find(x=>x.id===id);
  if(!it){ document.getElementById('detail').innerHTML = '<p>데이터가 없습니다.</p>'; return; }
  document.getElementById('detail').innerHTML = `
    <table class="table">
      <tbody>
        <tr><th style="width:160px">ID</th><td>${it.id}</td></tr>
        <tr><th>Level</th><td><span class="badge">${it.level}</span></td></tr>
        <tr><th>Word</th><td><b>${it.word}</b> ${it.bookmark?'⭐':''}</td></tr>
        <tr><th>Meaning</th><td>${it.meaning}</td></tr>
        <tr><th>Date</th><td>${it.date}</td></tr>
        <tr><th>Tags</th><td>${it.tags||'-'}</td></tr>
      </tbody>
    </table>
  `;
  document.getElementById('edit').href = `edit.html?id=${it.id}`;
}
document.getElementById('del').onclick = ()=>{
  if(confirm('게시물을 삭제할까요?')){
    const items = load().filter(x=>x.id!==id);
    save(items); location.href='index.html';
  }
};
render();
</script>
</body>
</html>